---
name: Testing & Quality
description: 코드를 수정할 때마다 관련 테스트 코드를 자동으로 실행하고, 린트(Lint) 에러를 체크하여 사이드 이펙트를 방지합니다.
---

# Testing & Quality 스킬 지침 (Testing & Quality)

이 스킬은 프로젝트 내의 코드 변경이 발생했을 때, 자동으로 테스트와 린트 체크를 수행하여 코드의 품질을 보장하고 예상치 못한 사이드 이펙트를 방지하기 위해 사용됩니다.

## 🎯 주요 목적
- 파일 변경 후 테스트 누락 방지
- Lint 에러 사전 차단으로 코드 컨벤션 유지
- implementation_plan.md 승인 직후와 코드 수정 완료 시점에 검증 강제

## 🚀 실행 지침

1. **상태 파악 및 대상 선정**
   - 변경된 코드의 언어(TypeScript/Dart/Python)와 영역을 파악합니다.
   - 백엔드/데이터 수집(Python) 관련 변경인 경우 `pytest` 또는 `unittest`를 대상 테스트로 선정합니다.
   - 프론트엔드/모바일(Flutter/Dart) 관련 변경인 경우 `flutter test` 및 `flutter analyze`를 수행합니다.
   - 웹(Next.js/TypeScript) 관련 변경인 경우 `npm run lint` 및 해당 컴포넌트의 테스트 스크립트를 수행합니다.

2. **작업 전/후 자동 검증 파이프라인**
   - **코드 수정 전**: 현재 브랜치의 기준 상태를 확인하기 위해 전체 혹은 주요 린트/테스트를 1회 실행합니다. (옵션: 테스트가 너무 길 경우 생략 가능하나 권장됨)
   - **코드 수정 후**: 변경된 대상 파일 혹은 연관 모듈의 테스트 코드를 식별합니다. 발견하지 못했다면 테스트 코드 작성을 사용자에게 제안합니다.
   - 수정이 끝나면 즉시 연관된 테스트 명령어(예: `pytest path/to/test.py` 또는 `flutter test path/to/test.dart`)를 터미널에서 실행(`run_command`)합니다.

3. **결과 처리 로직**
   - **성공 시**: 다음 태스크로 조용히 넘어가거나, 사용자에게 요약 알림을 제공합니다.
   - **실패 시**: 실패한 로그(에러 스택 트레이스)를 분석하여 원인을 파악합니다. 본 스킬 내에서 즉각 1~2회 자체 수정을 시도(`EXECUTION` 모드 유지)하고 재테스트합니다. 그래도 해결되지 않으면 `notify_user`를 통해 사용자에게 디버깅 협조를 구합니다.

4. **금지 사항**
   - 테스트 코드를 임의로 삭제하거나 주석 처리하여 통과시키는 행위는 절대 금지됩니다. (Assertion 오류가 났을 경우 로직을 수정해야 합니다)
