(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9566],{1029:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var l=a(5155),t=a(2115),r=a(2619),i=a.n(r),d=a(5626),n=a(1847);let c=(0,n.A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),x=(0,n.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var m=a(7910),o=a(7003),h=a(7376),g=a(203);let u={admin:{label:"관리자",description:"모든 권한",className:"bg-red-100 text-red-700"},finance:{label:"재무",description:"정산/세금 관리",className:"bg-purple-100 text-purple-700"},manager:{label:"매니저",description:"크리에이터 관리",className:"bg-blue-100 text-blue-700"},viewer:{label:"뷰어",description:"조회만 가능",className:"bg-gray-100 text-gray-600"}};function b(){let[e,s]=(0,t.useState)([]),[a,r]=(0,t.useState)(!1),[n,b]=(0,t.useState)(""),[y,p]=(0,t.useState)("viewer");async function f(){if(n)try{let a=await (0,g.yO)(n,y);s([...e,a]),b(""),r(!1)}catch(e){console.error("Failed to invite staff:",e)}}return(0,t.useEffect)(()=>{(0,g._G)().then(s)},[]),(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[h.Gc&&(0,l.jsx)("div",{className:"mb-4 bg-amber-50 border border-amber-200 rounded-lg px-4 py-2 text-sm text-amber-800",children:"데모 모드 — 변경사항이 저장되지 않습니다"}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)(i(),{href:"/agency/settings",className:"inline-flex items-center gap-1 text-sm text-gray-500 hover:text-gray-900 mb-3",children:[(0,l.jsx)(d.A,{className:"w-4 h-4"}),"설정"]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"스태프 관리"}),(0,l.jsxs)("p",{className:"text-gray-500 mt-1",children:[e.length,"명의 스태프"]})]}),(0,l.jsxs)(o.Button,{onClick:()=>r(!a),children:[(0,l.jsx)(c,{className:"w-4 h-4 mr-2"}),"스태프 초대"]})]})]}),a&&(0,l.jsxs)("div",{className:"bg-indigo-50 rounded-xl border border-indigo-200 p-6 mb-6",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"새 스태프 초대"}),(0,l.jsxs)("div",{className:"flex items-end gap-4",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이메일"}),(0,l.jsx)("input",{type:"email",value:n,onChange:e=>b(e.target.value),placeholder:"staff@example.com",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,l.jsxs)("div",{className:"w-40",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"역할"}),(0,l.jsxs)("select",{value:y,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,l.jsx)("option",{value:"viewer",children:"뷰어"}),(0,l.jsx)("option",{value:"manager",children:"매니저"}),(0,l.jsx)("option",{value:"finance",children:"재무"}),(0,l.jsx)("option",{value:"admin",children:"관리자"})]})]}),(0,l.jsxs)(o.Button,{onClick:f,children:[(0,l.jsx)(x,{className:"w-4 h-4 mr-2"}),"초대"]})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:Object.entries(u).map(e=>{let[s,a]=e;return(0,l.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,l.jsx)(m.A,{className:"w-4 h-4 text-gray-400"}),(0,l.jsx)("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full ".concat(a.className),children:a.label})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:a.description})]},s)})}),(0,l.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200",children:[(0,l.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,l.jsx)("h2",{className:"font-semibold text-gray-900",children:"스태프 목록"})}),(0,l.jsx)("div",{className:"divide-y divide-gray-100",children:e.map(e=>{let s=u[e.role];return(0,l.jsxs)("div",{className:"p-4 flex items-center gap-4",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 font-bold text-sm flex-shrink-0",children:(e.display_name||"?").charAt(0)}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("div",{className:"font-medium text-gray-900",children:e.display_name||"이름 없음"}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:e.email||"-"})]}),(0,l.jsx)("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full ".concat(s.className),children:s.label}),(0,l.jsx)("div",{className:"text-xs text-gray-400",children:e.accepted_at?"활성":"초대 대기"})]},e.id)})})]})]})}},2971:(e,s,a)=>{Promise.resolve().then(a.bind(a,1029))},5626:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(1847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7910:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(1847).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}},e=>{e.O(0,[2619,4909,5417,7376,1031,8441,1255,7358],()=>e(e.s=2971)),_N_E=e.O()}]);