(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8525,9312],{63:(e,r,t)=>{"use strict";var s=t(7260);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},1241:(e,r,t)=>{Promise.resolve().then(t.bind(t,8116))},3564:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(2821),a=t(5889);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}},7003:(e,r,t)=>{"use strict";t.d(r,{Button:()=>i});var s=t(5155),a=t(2115),n=t(3564);let i=(0,a.forwardRef)((e,r)=>{let{className:t,variant:a="primary",size:i="md",loading:o,disabled:l,children:c,...d}=e;return(0,s.jsxs)("button",{ref:r,className:(0,n.cn)("inline-flex items-center justify-center font-medium transition-colors rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500",outline:"border-2 border-gray-200 text-gray-700 hover:border-primary-500 hover:text-primary-500 focus:ring-primary-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500"}[a],{sm:"text-sm px-3 py-1.5",md:"text-base px-4 py-2",lg:"text-lg px-6 py-3"}[i],t),disabled:l||o,...d,children:[o&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c]})});i.displayName="Button"},8116:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(5155),a=t(2115),n=t(63),i=t(8525),o=t(7003);function l(){let e=(0,n.useRouter)(),[r,t]=(0,a.useState)(""),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),m=async t=>{if(t.preventDefault(),!r.trim())return void u("캠페인 제목을 입력해주세요");c(!0),u(null);try{let t=(0,i.createClient)(),{data:{user:s}}=await t.auth.getUser();if(!s)throw Error("로그인이 필요합니다");let{data:a,error:n}=await t.from("funding_campaigns").insert({creator_id:s.id,title:r.trim(),status:"draft"}).select().single();if(n)throw n;if(!a)throw Error("캠페인 생성 결과가 없습니다");e.push("/studio/campaigns/".concat(a.id,"/edit"))}catch(e){u(e instanceof Error?e.message:"캠페인 생성에 실패했습니다"),c(!1)}};return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"새 캠페인 만들기"}),(0,s.jsx)("p",{className:"text-gray-500 mt-1",children:"캠페인의 이름을 정해주세요"})]}),(0,s.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:(0,s.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"캠페인 제목 *"}),(0,s.jsx)("input",{type:"text",id:"title",value:r,onChange:e=>t(e.target.value),placeholder:"예: 첫 번째 정규 앨범 발매 프로젝트",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",maxLength:100,autoFocus:!0}),(0,s.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:[r.length,"/100자 - 후에 언제든지 변경할 수 있어요"]})]}),d&&(0,s.jsx)("div",{className:"p-3 bg-red-50 border border-red-100 rounded-lg text-sm text-red-600",children:d}),(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,s.jsx)(o.Button,{type:"button",variant:"outline",onClick:()=>e.back(),children:"취소"}),(0,s.jsx)(o.Button,{type:"submit",loading:l,children:"캠페인 만들기"})]})]})})]})}},8525:(e,r,t)=>{"use strict";t.r(r),t.d(r,{createClient:()=>n});var s=t(5417),a=t(5704);function n(){return(0,s.createBrowserClient)(a.env.NEXT_PUBLIC_SUPABASE_URL,a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}}},e=>{e.O(0,[4909,5417,8441,1255,7358],()=>e(e.s=1241)),_N_E=e.O()}]);