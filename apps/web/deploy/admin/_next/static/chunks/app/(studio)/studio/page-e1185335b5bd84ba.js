(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3461,8525],{1847:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(2115);let a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:c=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:d="",children:o,iconNode:m,...x}=e;return(0,s.createElement)("svg",{ref:t,...l,width:c,height:c,stroke:r,strokeWidth:n?24*Number(i)/Number(c):i,className:a("lucide",d),...x},[...m.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),i=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:i,...n}=r;return(0,s.createElement)(c,{ref:l,iconNode:t,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...n})});return r.displayName="".concat(e),r}},2529:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2958:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var s=r(5155),a=r(2115),l=r(2619),c=r.n(l),i=r(1847);let n=(0,i.A)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var d=r(6983),o=r(2529),m=r(8874),x=r(7828),u=r(6191);let h=(0,i.A)("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);var g=r(8525),y=r(7003),f=r(4074),b=r(7376);function p(){let[e,t]=(0,a.useState)([]),[r,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{!async function(){if(b.Gc){t(b.Y2),l(!1);return}let e=(0,g.createClient)(),{data:{user:r}}=await e.auth.getUser();if(!r)return l(!1);let{data:s,error:a}=await e.from("funding_campaigns").select("*").eq("creator_id",r.id).order("created_at",{ascending:!1});a?console.error("Error fetching campaigns:",a):t(s||[]),l(!1)}()},[]);let i={total:e.length,active:e.filter(e=>"active"===e.status).length,draft:e.filter(e=>"draft"===e.status).length,totalRaised:e.reduce((e,t)=>e+t.current_amount_dt,0),totalBackers:e.reduce((e,t)=>e+t.backer_count,0)};return r?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary-500 border-t-transparent"})}):(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[b.Gc&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-xl text-yellow-800 text-sm",children:"\uD83C\uDFAD 데모 모드: 샘플 캠페인 데이터가 표시됩니다"}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"대시보드"}),(0,s.jsx)("p",{className:"text-gray-500 mt-1",children:"캠페인을 관리하고 성과를 확인하세요"})]}),(0,s.jsx)(c(),{href:"/studio/campaigns/new",children:(0,s.jsxs)(y.Button,{children:[(0,s.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"새 캠페인"]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"전체 캠페인"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:i.total})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"진행중"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-primary-500",children:i.active})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"총 모금액"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:(0,f.wq)(i.totalRaised)})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"총 후원자"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[i.totalBackers,"명"]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100",children:[(0,s.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,s.jsx)("h2",{className:"font-semibold text-gray-900",children:"내 캠페인"})}),0===e.length?(0,s.jsxs)("div",{className:"p-12 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(h,{className:"w-8 h-8 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"아직 캠페인이 없어요"}),(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"첫 번째 펀딩 캠페인을 만들어보세요"}),(0,s.jsx)(c(),{href:"/studio/campaigns/new",children:(0,s.jsxs)(y.Button,{children:[(0,s.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"캠페인 만들기"]})})]}):(0,s.jsx)("div",{className:"divide-y divide-gray-100",children:e.map(e=>{let t=(0,f.l9)(e.current_amount_dt,e.goal_amount_dt);return(0,s.jsx)("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"w-24 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:e.cover_image_url?(0,s.jsx)("img",{src:e.cover_image_url,alt:e.title,className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,s.jsx)(h,{className:"w-6 h-6"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 truncate",children:e.title}),function(e){let t={draft:{label:"초안",color:"bg-gray-100 text-gray-700",icon:n},submitted:{label:"심사중",color:"bg-yellow-100 text-yellow-700",icon:d.A},approved:{label:"승인됨",color:"bg-green-100 text-green-700",icon:o.A},rejected:{label:"반려됨",color:"bg-red-100 text-red-700",icon:m.A},active:{label:"진행중",color:"bg-primary-100 text-primary-700",icon:x.A},completed:{label:"완료",color:"bg-blue-100 text-blue-700",icon:o.A},cancelled:{label:"취소됨",color:"bg-gray-100 text-gray-500",icon:m.A}}[e],r=t.icon;return(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ".concat(t.color),children:[(0,s.jsx)(r,{className:"w-3 h-3"}),t.label]})}(e.status)]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,s.jsxs)("span",{children:[t,"% 달성"]}),(0,s.jsxs)("span",{children:[e.backer_count,"명 후원"]}),(0,s.jsx)("span",{children:(0,f.Yq)(e.created_at)})]}),"rejected"===e.status&&e.rejection_reason&&(0,s.jsxs)("div",{className:"mt-2 p-2 bg-red-50 rounded text-sm text-red-600",children:["반려 사유: ",e.rejection_reason]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[["draft","rejected"].includes(e.status)&&(0,s.jsx)(c(),{href:"/studio/campaigns/".concat(e.id,"/edit"),children:(0,s.jsxs)(y.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(n,{className:"w-4 h-4 mr-1"}),"수정"]})}),(0,s.jsx)(c(),{href:"/studio/campaigns/".concat(e.id,"/preview"),children:(0,s.jsxs)(y.Button,{variant:"ghost",size:"sm",children:[(0,s.jsx)(x.A,{className:"w-4 h-4 mr-1"}),"미리보기"]})})]})]})},e.id)})})]})]})}},3564:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var s=r(2821),a=r(5889);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},4074:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>d,gz:()=>i,io:()=>m,l9:()=>n,r6:()=>o,t4:()=>x,wq:()=>c});var s=r(6116),a=r(316),l=r(5507);function c(e){return new Intl.NumberFormat("ko-KR").format(e)+" DT"}function i(e){return new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e)}function n(e,t){return t<=0?0:Math.floor(e/t*100)}function d(e){let t="string"==typeof e?new Date(e):e;return(0,s.GP)(t,"yyyy.MM.dd",{locale:l.ko})}function o(e){let t="string"==typeof e?new Date(e):e;return(0,s.GP)(t,"yyyy.MM.dd HH:mm",{locale:l.ko})}function m(e){let t="string"==typeof e?new Date(e):e,r=(0,a.c)(t,new Date);return r<0?"마감됨":0===r?"오늘 마감":1===r?"내일 마감":"".concat(r,"일 남음")}function x(e){return e>=1e4?"".concat((e/1e4).toFixed(1),"만명"):e>=1e3?"".concat((e/1e3).toFixed(1),"천명"):"".concat(e,"명")}},6191:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6983:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7003:(e,t,r)=>{"use strict";r.d(t,{Button:()=>c});var s=r(5155),a=r(2115),l=r(3564);let c=(0,a.forwardRef)((e,t)=>{let{className:r,variant:a="primary",size:c="md",loading:i,disabled:n,children:d,...o}=e;return(0,s.jsxs)("button",{ref:t,className:(0,l.cn)("inline-flex items-center justify-center font-medium transition-colors rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500",outline:"border-2 border-gray-200 text-gray-700 hover:border-primary-500 hover:text-primary-500 focus:ring-primary-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500"}[a],{sm:"text-sm px-3 py-1.5",md:"text-base px-4 py-2",lg:"text-lg px-6 py-3"}[c],r),disabled:n||i,...o,children:[i&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d]})});c.displayName="Button"},7828:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8525:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createClient:()=>l});var s=r(5417),a=r(5704);function l(){return(0,s.createBrowserClient)(a.env.NEXT_PUBLIC_SUPABASE_URL,a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}},8874:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},9501:(e,t,r)=>{Promise.resolve().then(r.bind(r,2958))}},e=>{e.O(0,[2619,4909,5417,5837,7376,8441,1255,7358],()=>e(e.s=9501)),_N_E=e.O()}]);