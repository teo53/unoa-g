(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1176],{63:(e,t,r)=>{"use strict";var s=r(7260);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},368:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1847:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(2115);let a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:d="",children:o,iconNode:u,...x}=e;return(0,s.createElement)("svg",{ref:t,...l,width:n,height:n,stroke:r,strokeWidth:i?24*Number(c)/Number(n):c,className:a("lucide",d),...x},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),c=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:c,...i}=r;return(0,s.createElement)(n,{ref:l,iconNode:t,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),c),...i})});return r.displayName="".concat(e),r}},2108:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},4033:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},4347:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]])},4555:(e,t,r)=>{Promise.resolve().then(r.bind(r,6719))},6191:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6719:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(5155),a=r(2115),l=r(63);let n=(0,r(1847).A)("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);var c=r(4347),i=r(6191),d=r(9630),o=r(8876),u=r(23);function x(){let e=(0,l.useRouter)(),[t,r]=(0,a.useState)([]),[x,h]=(0,a.useState)(!0),[m,y]=(0,a.useState)(!1),[g,p]=(0,a.useState)(""),[f,b]=(0,a.useState)(""),[k,v]=(0,a.useState)(!1);async function w(){if(g.trim()&&f.trim()){v(!0);try{let t=await (0,d.ny)({flag_key:g.trim(),title:f.trim(),description:"",enabled:!1,rollout_percent:100,payload_data:{}});e.push("/admin/ops/flags/".concat(t.id))}catch(e){}finally{v(!1)}}}(0,a.useEffect)(()=>{!async function(){try{let e=await (0,d.E3)();r(e)}catch(e){}finally{h(!1)}}()},[]);let N=[{key:"flag_key",label:"키",sortable:!0,render:e=>(0,s.jsx)("code",{className:"text-sm bg-gray-100 px-2 py-0.5 rounded",children:e.flag_key})},{key:"title",label:"이름",sortable:!0,render:e=>(0,s.jsx)("span",{className:"font-medium text-gray-900",children:e.title})},{key:"enabled",label:"활성",render:e=>e.enabled?(0,s.jsx)(n,{className:"w-5 h-5 text-green-600"}):(0,s.jsx)(c.A,{className:"w-5 h-5 text-gray-400"})},{key:"rollout_percent",label:"롤아웃",render:e=>(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[e.rollout_percent,"%"]})},{key:"status",label:"상태",sortable:!0,render:e=>(0,s.jsx)(o.a,{status:e.status,size:"sm"})},{key:"version",label:"v",className:"text-center",render:e=>(0,s.jsxs)("span",{className:"text-xs text-gray-400",children:["v",e.version]})}];return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"기능 플래그"}),(0,s.jsxs)("button",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-medium",onClick:()=>y(!m),children:[(0,s.jsx)(i.A,{className:"w-4 h-4"}),"새 플래그"]})]}),m&&(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-end gap-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"키 (영문, _)"}),(0,s.jsx)("input",{type:"text",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",placeholder:"my_feature_flag",value:g,onChange:e=>p(e.target.value.replace(/[^a-z0-9_]/gi,"_").toLowerCase())})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"이름"}),(0,s.jsx)("input",{type:"text",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",placeholder:"새 기능 이름",value:f,onChange:e=>b(e.target.value)})]}),(0,s.jsx)("button",{className:"px-4 py-2 bg-green-600 text-white rounded text-sm disabled:opacity-50",disabled:k||!g||!f,onClick:w,children:k?"생성 중...":"생성"}),(0,s.jsx)("button",{className:"px-4 py-2 text-gray-500 text-sm",onClick:()=>y(!1),children:"취소"})]}),(0,s.jsx)(u.l,{data:t,columns:N,loading:x,emptyMessage:"등록된 플래그가 없습니다.",onRowClick:t=>e.push("/admin/ops/flags/".concat(t.id))})]})}},7937:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])}},e=>{e.O(0,[5417,7376,3423,8441,1255,7358],()=>e(e.s=4555)),_N_E=e.O()}]);