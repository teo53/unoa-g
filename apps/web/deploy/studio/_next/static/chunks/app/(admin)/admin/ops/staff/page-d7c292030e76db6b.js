(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9533],{2714:(e,t,a)=>{Promise.resolve().then(a.bind(a,3118))},3118:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(5155),l=a(2115),r=a(6191),i=a(7910),d=a(1360),n=a(9630),c=a(6738),o=a(7376),x=a(4784);let p={viewer:"bg-gray-100 text-gray-700",operator:"bg-blue-100 text-blue-700",publisher:"bg-green-100 text-green-700",admin:"bg-purple-100 text-purple-700"};function u(){let[e,t]=(0,l.useState)([]),[a,u]=(0,l.useState)(!0),[h,m]=(0,l.useState)(!1),[b,g]=(0,l.useState)(""),[y,f]=(0,l.useState)("viewer"),[j,v]=(0,l.useState)(""),[N,w]=(0,l.useState)(!1),[_,C]=(0,l.useState)(null),[k,S]=(0,l.useState)(!1);async function A(){if(b.trim()){w(!0);try{let e=await (0,n.cb)(b.trim(),y,j.trim()||void 0);t(t=>[e,...t.filter(t=>t.user_id!==e.user_id)]),m(!1),g(""),v("")}catch(e){}finally{w(!1)}}}async function R(){if(_){S(!0);try{await (0,n.jd)(_),t(e=>e.filter(e=>e.user_id!==_))}catch(e){}finally{S(!1),C(null)}}}async function O(e,a){try{let s=await (0,n.cb)(e,a);t(t=>t.map(t=>t.user_id===e?s:t))}catch(e){}}return((0,l.useEffect)(()=>{!async function(){try{let e=await (0,n.lA)();t(e)}catch(e){}finally{u(!1)}}()},[]),a)?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"스태프 관리"}),[1,2,3].map(e=>(0,s.jsx)("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},e))]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"스태프 관리"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Ops CRM 접근 권한을 관리합니다"})]}),(0,s.jsxs)("button",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 text-sm font-medium",onClick:()=>m(!h),children:[(0,s.jsx)(r.A,{className:"w-4 h-4"}),"스태프 추가"]})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(c.fn).map(e=>{let[t,a]=e;return(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(p[t]),children:a},t)})}),h&&(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"사용자 ID (UUID)"}),(0,s.jsx)("input",{type:"text",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",placeholder:"00000000-0000-0000-0000-000000000000",value:b,onChange:e=>g(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"표시 이름"}),(0,s.jsx)("input",{type:"text",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",placeholder:"운영자 이름",value:j,onChange:e=>v(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"역할"}),(0,s.jsx)("select",{className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:y,onChange:e=>f(e.target.value),children:Object.entries(c.fn).map(e=>{let[t,a]=e;return(0,s.jsx)("option",{value:t,children:a},t)})})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{className:"px-4 py-2 bg-purple-600 text-white rounded text-sm disabled:opacity-50",disabled:N||!b,onClick:A,children:N?"추가 중...":"추가"}),(0,s.jsx)("button",{className:"px-4 py-2 text-gray-500 text-sm",onClick:()=>m(!1),children:"취소"})]})]}),o.Gc&&0===e.length?(0,s.jsxs)("div",{className:"text-center py-12 bg-white border border-gray-200 rounded-lg",children:[(0,s.jsx)(i.A,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-gray-500",children:"데모 모드에서는 스태프 관리가 제한됩니다"}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"실제 Supabase 연결 시 활성화됩니다"})]}):(0,s.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg divide-y",children:e.map(e=>{var t;return(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-sm font-medium",children:(e.display_name||"?")[0].toUpperCase()}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 truncate",children:e.display_name||e.user_id.slice(0,8)}),(0,s.jsx)("p",{className:"text-xs text-gray-400 truncate",children:(null==(t=e.user)?void 0:t.email)||e.user_id})]}),(0,s.jsx)("select",{className:"text-xs px-3 py-1.5 rounded-full font-medium ".concat(p[e.role]),value:e.role,onChange:t=>O(e.user_id,t.target.value),children:Object.entries(c.fn).map(e=>{let[t,a]=e;return(0,s.jsx)("option",{value:t,children:a},t)})}),(0,s.jsx)("button",{className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded",onClick:()=>C(e.user_id),title:"제거",children:(0,s.jsx)(d.A,{className:"w-4 h-4"})})]},e.id)})}),(0,s.jsx)(x.C,{open:!!_,onClose:()=>C(null),onConfirm:R,title:"스태프 제거",description:"이 스태프를 제거하시겠습니까? Ops CRM 접근 권한이 해제됩니다.",variant:"danger",confirmLabel:"제거",loading:k})]})}},6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6738:(e,t,a)=>{"use strict";a.d(t,{M2:()=>s,au:()=>r,et:()=>l,fn:()=>i});let s={draft:{label:"초안",color:"text-gray-700",bgColor:"bg-gray-100"},in_review:{label:"검수 중",color:"text-yellow-700",bgColor:"bg-yellow-100"},published:{label:"게시됨",color:"text-green-700",bgColor:"bg-green-100"},archived:{label:"보관됨",color:"text-red-700",bgColor:"bg-red-100"}},l={home_top:"홈 상단",home_bottom:"홈 하단",discover_top:"탐색 상단",chat_top:"채팅 상단",profile_banner:"프로필 배너",popup:"팝업"},r={home_top:{width:1200,height:300,label:"홈 상단",description:"메인 히어로 배너 — 풀 너비",aspectRatio:"4:1",safeZone:"좌우 16px 여백"},home_bottom:{width:1200,height:200,label:"홈 하단",description:"보조 프로모션 띠 배너",aspectRatio:"6:1"},discover_top:{width:800,height:400,label:"탐색 상단",description:"탐색 페이지 배너",aspectRatio:"2:1"},chat_top:{width:600,height:150,label:"채팅 상단",description:"채팅 리스트 상단 띠",aspectRatio:"4:1"},profile_banner:{width:800,height:300,label:"프로필 배너",description:"프로필 헤더 영역",aspectRatio:"8:3"},popup:{width:600,height:800,label:"팝업",description:"모달 팝업 (세로)",aspectRatio:"3:4"}},i={viewer:"뷰어",operator:"운영자",publisher:"발행자",admin:"관리자"}},7910:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}},e=>{e.O(0,[5417,7376,8017,8441,1255,7358],()=>e(e.s=2714)),_N_E=e.O()}]);