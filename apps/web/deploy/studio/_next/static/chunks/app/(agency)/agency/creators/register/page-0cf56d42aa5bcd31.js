(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3173],{1786:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},2121:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(5155),r=t(2115),l=t(2619),i=t.n(l),n=t(5917),d=t(5626),c=t(6651),o=t(1786),x=t(3327),m=t(7003),g=t(7376),h=t(203);function u(){let[e,s]=(0,r.useState)("search"),[t,l]=(0,r.useState)(""),[u,j]=(0,r.useState)([]),[b,y]=(0,r.useState)(null),[f,v]=(0,r.useState)(!1),[N,p]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[_,A]=(0,r.useState)(""),[C,S]=(0,r.useState)(""),[B,M]=(0,r.useState)(!1),[P,L]=(0,r.useState)("10"),[O,E]=(0,r.useState)("monthly"),[F,D]=(0,r.useState)("");async function G(){t.trim()&&(v(!0),g.Gc&&(await new Promise(e=>setTimeout(e,500)),j(Object.values(g.wQ).filter(e=>{var s;return null==(s=e.display_name)?void 0:s.toLowerCase().includes(t.toLowerCase())}).map(e=>({id:e.id,stage_name:e.display_name||"",avatar_url:e.avatar_url||null,subscriber_count:Math.floor(2e3*Math.random())+100,categories:["K-POP"],has_agency:!1})))),v(!1))}async function q(){if(b){p(!0);try{await (0,h.G4)({creator_profile_id:b.id,contract_start_date:_,contract_end_date:B?null:C||null,revenue_share_rate:Number(P)/100,settlement_period:O,notes:F||null}),k(!0)}catch(e){console.error("Failed to register creator:",e)}finally{p(!1)}}}return w?(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(n.A,{className:"w-8 h-8 text-green-600"})}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"등록 신청 완료"}),(0,a.jsxs)("p",{className:"text-gray-500 mb-6",children:[(0,a.jsx)("strong",{children:null==b?void 0:b.stage_name})," 크리에이터에게 소속 계약 초대가 발송되었습니다.",(0,a.jsx)("br",{}),"크리에이터가 수락하면 계약이 활성화됩니다."]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsx)(i(),{href:"/agency/creators",children:(0,a.jsx)(m.Button,{variant:"secondary",children:"크리에이터 목록"})}),(0,a.jsx)(i(),{href:"/agency",children:(0,a.jsx)(m.Button,{children:"대시보드"})})]})]})}):(0,a.jsxs)("div",{className:"max-w-3xl mx-auto",children:[g.Gc&&(0,a.jsx)("div",{className:"mb-4 bg-amber-50 border border-amber-200 rounded-lg px-4 py-2 text-sm text-amber-800",children:"데모 모드 — 실제 등록은 발생하지 않습니다"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)(i(),{href:"/agency/creators",className:"inline-flex items-center gap-1 text-sm text-gray-500 hover:text-gray-900 mb-3",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),"소속 크리에이터"]}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"크리에이터 등록"}),(0,a.jsx)("p",{className:"text-gray-500 mt-1",children:"크리에이터를 검색하고 계약 조건을 설정합니다"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 mb-8",children:["검색","계약 조건","확인"].map((s,t)=>{let r=["search","terms","confirm"],l=e===r[t],i=r.indexOf(e)>t;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(l?"bg-indigo-600 text-white":i?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-400"),children:i?(0,a.jsx)(n.A,{className:"w-4 h-4"}):t+1}),(0,a.jsx)("span",{className:"text-sm ".concat(l?"text-gray-900 font-medium":"text-gray-400"),children:s}),t<2&&(0,a.jsx)("div",{className:"w-8 h-px bg-gray-200"})]},s)})}),"search"===e&&(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"1단계: 크리에이터 검색"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:t,onChange:e=>l(e.target.value),onKeyDown:e=>"Enter"===e.key&&G(),placeholder:"아이디 또는 활동명 입력...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,a.jsx)(m.Button,{onClick:G,loading:f,children:"검색"})]}),u.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-3",children:[u.length,"개 결과"]}),u.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-lg border transition-colors cursor-pointer ".concat((null==b?void 0:b.id)===e.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"),onClick:()=>y(e),children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full overflow-hidden flex-shrink-0",children:e.avatar_url?(0,a.jsx)("img",{src:e.avatar_url,alt:e.stage_name,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-lg font-bold",children:e.stage_name.charAt(0)})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.stage_name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["구독자 ",e.subscriber_count.toLocaleString(),"명 \xb7 ",e.categories.join(", ")]})]}),e.has_agency?(0,a.jsx)("span",{className:"text-xs text-red-500 font-medium",children:"이미 소속사 있음"}):(0,a.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"소속사 없음"}),(null==b?void 0:b.id)===e.id&&(0,a.jsx)("div",{className:"w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(n.A,{className:"w-4 h-4 text-white"})})]},e.id))]}),0===u.length&&t&&!f&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm",children:"검색 결과가 없습니다. 다른 키워드를 시도해보세요."}),(0,a.jsx)("div",{className:"mt-6 flex justify-end",children:(0,a.jsx)(m.Button,{onClick:()=>s("terms"),disabled:!b||b.has_agency,children:"다음 단계"})})]}),"terms"===e&&(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"2단계: 계약 조건"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:[(0,a.jsx)("strong",{children:null==b?void 0:b.stage_name}),"에 대한 계약 조건을 설정합니다"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계약 시작일"}),(0,a.jsx)("input",{type:"date",value:_,onChange:e=>A(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계약 종료일"}),(0,a.jsx)("input",{type:"date",value:C,onChange:e=>S(e.target.value),disabled:B,className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-gray-100 disabled:text-gray-400"}),(0,a.jsxs)("label",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:B,onChange:e=>{M(e.target.checked),e.target.checked&&S("")},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"무기한 계약"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"정산율 (소속사 몫)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"number",min:"1",max:"50",value:P,onChange:e=>L(e.target.value),className:"w-24 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"%"}),(0,a.jsxs)("span",{className:"text-xs text-gray-400 ml-2",children:["(크리에이터 ",100-Number(P),"% / 소속사 ",P,"%)"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"정산 기준"}),(0,a.jsxs)("select",{value:O,onChange:e=>E(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,a.jsx)("option",{value:"weekly",children:"주간"}),(0,a.jsx)("option",{value:"biweekly",children:"격주"}),(0,a.jsx)("option",{value:"monthly",children:"월간"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계약서 PDF"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 border border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-indigo-400 transition-colors",children:[(0,a.jsx)(o.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"파일 업로드"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["위임장 PDF ",(0,a.jsx)("span",{className:"text-gray-400",children:"(선택)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 border border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-indigo-400 transition-colors",children:[(0,a.jsx)(o.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"파일 업로드"})]}),(0,a.jsxs)("div",{className:"flex items-start gap-1.5 mt-2",children:[(0,a.jsx)(x.A,{className:"w-3.5 h-3.5 text-indigo-500 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs text-indigo-600",children:"위임장이 있으면 정산금이 소속사로 일괄 지급됩니다"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"메모"}),(0,a.jsx)("textarea",{value:F,onChange:e=>D(e.target.value),rows:3,placeholder:"추가 메모 (선택사항)",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,a.jsx)(m.Button,{variant:"ghost",onClick:()=>s("search"),children:"이전 단계"}),(0,a.jsx)(m.Button,{onClick:()=>s("confirm"),disabled:!_,children:"다음 단계"})]})]}),"confirm"===e&&(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"3단계: 등록 확인"}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-200",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full overflow-hidden",children:(null==b?void 0:b.avatar_url)?(0,a.jsx)("img",{src:b.avatar_url,alt:"",className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-lg font-bold",children:null==b?void 0:b.stage_name.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:null==b?void 0:b.stage_name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["구독자 ",null==b?void 0:b.subscriber_count.toLocaleString(),"명"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-y-2 text-sm",children:[(0,a.jsx)("div",{className:"text-gray-500",children:"계약기간"}),(0,a.jsxs)("div",{className:"text-gray-900",children:[_," ~ ",B?"무기한":C||"-"]}),(0,a.jsx)("div",{className:"text-gray-500",children:"정산율 (소속사)"}),(0,a.jsxs)("div",{className:"text-gray-900",children:[P,"%"]}),(0,a.jsx)("div",{className:"text-gray-500",children:"정산 기준"}),(0,a.jsx)("div",{className:"text-gray-900",children:"weekly"===O?"주간":"biweekly"===O?"격주":"월간"}),F&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-gray-500",children:"메모"}),(0,a.jsx)("div",{className:"text-gray-900",children:F})]})]})]}),(0,a.jsx)("div",{className:"bg-indigo-50 rounded-lg p-4 mb-6",children:(0,a.jsxs)("p",{className:"text-sm text-indigo-700",children:["등록을 완료하면 ",(0,a.jsx)("strong",{children:null==b?void 0:b.stage_name})," 크리에이터에게 소속 계약 초대 알림이 발송됩니다. 크리에이터가 수락하면 계약이 활성화되며, 거절하면 자동으로 해지됩니다."]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(m.Button,{variant:"ghost",onClick:()=>s("terms"),children:"이전 단계"}),(0,a.jsx)(m.Button,{onClick:q,loading:N,children:"등록 신청"})]})]})]})}},3327:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},5600:(e,s,t)=>{Promise.resolve().then(t.bind(t,2121))},5626:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5917:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6651:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},e=>{e.O(0,[2619,4909,5417,7376,1031,8441,1255,7358],()=>e(e.s=5600)),_N_E=e.O()}]);