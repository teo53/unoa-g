(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1873],{3564:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var s=t(2821),a=t(5889);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}},3969:(e,r,t)=>{"use strict";t.d(r,{default:()=>c});var s=t(5155),a=t(2115),i=t(2619),n=t.n(i),l=t(7003),o=t(7376);function c(e){let{slug:r}=e,[i,c]=(0,a.useState)(""),[d,m]=(0,a.useState)(!1),[x,u]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),f=async e=>{e.preventDefault(),m(!0),g(null);try{if(o.Gc){if(!(0,o.Vx)(r))throw Error("캠페인을 찾을 수 없습니다");await new Promise(e=>setTimeout(e,500)),u(!0);return}let{createClient:e}=await Promise.all([t.e(5417),t.e(8525)]).then(t.bind(t,8525)),s=e(),{data:a}=await s.from("funding_campaigns").select("id").eq("slug",r).single();if(!a)throw Error("캠페인을 찾을 수 없습니다");let{data:{user:n}}=await s.auth.getUser(),{error:l}=await s.from("funding_prelaunch_signups").insert({campaign_id:a.id,user_id:(null==n?void 0:n.id)||null,email:n?null:i,notify_on_launch:!0});if(l){if("23505"===l.code)throw Error("이미 알림 신청을 하셨습니다");throw l}u(!0)}catch(e){g(e instanceof Error?e.message:"오류가 발생했습니다")}finally{m(!1)}};return x?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:[o.Gc&&(0,s.jsx)("div",{className:"fixed top-0 left-0 right-0 bg-amber-50 border-b border-amber-200 px-4 py-2 text-center text-sm text-amber-800",children:"Demo Mode - Mock data is displayed"}),(0,s.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl p-8 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"알림 신청 완료!"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"펀딩이 시작되면 이메일로 알려드릴게요."}),(0,s.jsx)(n(),{href:"/p/".concat(r),children:(0,s.jsx)(l.Button,{variant:"outline",children:"캠페인으로 돌아가기"})})]})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:[o.Gc&&(0,s.jsx)("div",{className:"fixed top-0 left-0 right-0 bg-amber-50 border-b border-amber-200 px-4 py-2 text-center text-sm text-amber-800",children:"Demo Mode - Mock data is displayed"}),(0,s.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"곧 시작됩니다!"}),(0,s.jsxs)("p",{className:"text-gray-600",children:["펀딩 오픈 알림을 받아보세요.",(0,s.jsx)("br",{}),"누구보다 빨리 후원에 참여할 수 있어요."]})]}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"이메일"}),(0,s.jsx)("input",{type:"email",id:"email",value:i,onChange:e=>c(e.target.value),placeholder:"example@email.com",required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),h&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:h}),(0,s.jsx)(l.Button,{type:"submit",size:"lg",className:"w-full",loading:d,children:"알림 받기"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)(n(),{href:"/p/".concat(r),className:"text-sm text-gray-500 hover:text-gray-700",children:"캠페인 상세 보기"})})]})]})}},7003:(e,r,t)=>{"use strict";t.d(r,{Button:()=>n});var s=t(5155),a=t(2115),i=t(3564);let n=(0,a.forwardRef)((e,r)=>{let{className:t,variant:a="primary",size:n="md",loading:l,disabled:o,children:c,...d}=e;return(0,s.jsxs)("button",{ref:r,className:(0,i.cn)("inline-flex items-center justify-center font-medium transition-colors rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500",outline:"border-2 border-gray-200 text-gray-700 hover:border-primary-500 hover:text-primary-500 focus:ring-primary-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500"}[a],{sm:"text-sm px-3 py-1.5",md:"text-base px-4 py-2",lg:"text-lg px-6 py-3"}[n],t),disabled:o||l,...d,children:[l&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c]})});n.displayName="Button"},8677:(e,r,t)=>{Promise.resolve().then(t.bind(t,3969))}},e=>{e.O(0,[2619,4909,7376,8441,1255,7358],()=>e(e.s=8677)),_N_E=e.O()}]);